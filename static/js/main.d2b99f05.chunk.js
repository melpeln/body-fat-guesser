(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{253:function(e,t,a){e.exports=a(298)},260:function(e,t,a){},266:function(e,t){},267:function(e,t){},275:function(e,t){},285:function(e,t){},286:function(e,t){},287:function(e,t){},288:function(e,t){},296:function(e,t){},298:function(e,t,a){"use strict";a.r(t);var n=a(3),i=a(4),o=a(9),r=a(16),c=a(8),l=a(15),s=a(83),d=a.n(s),h=a(202),u=a.n(h),f=a(230),m=a.n(f),p={white:"#ffffff",black:"#000000",img_bg:"#d2ff40",dark_blue:"#0b0e14"},g=(a(260),a(297)),v=["0_9","10_11","12_13","14_15","16_17","18_20","20_100"],b=function(e){function t(){return Object(i.a)(this,t),Object(r.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return d.a.createElement("h1",{className:"title"},"BODY FAT GUESSER")}}]),t}(d.a.Component),w=function(e){function t(){var e,a;Object(i.a)(this,t);for(var o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];return(a=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(l)))).state={model:null,preview:"",predictions:[]},a.onDrop=function(e,t,n){a.setState({preview:e[0].preview||n[0]})},a.cropToCanvas=function(e,t,a){var n=e.naturalWidth,i=e.naturalHeight;a.clearRect(0,0,a.canvas.width,a.canvas.height),a.fillStyle=p.img_bg,a.fillRect(0,0,t.width,t.height);var o=Math.min(t.width/e.naturalWidth,t.height/e.naturalHeight),r=Math.round(n*o),c=Math.round(i*o);a.drawImage(e,0,0,n,i,(t.width-r)/2,(t.height-c)/2,r,c)},a.onImageChange=function(e){var t=document.getElementById("canvas"),i=t.getContext("2d");a.cropToCanvas(e.target,t,i);var o=a.state.model.inputs[0].shape.slice(1,3),r=Object(n.a)(o,2),c=r[0],l=r[1],s=g.tidy(function(){return g.image.resizeBilinear(g.browser.fromPixels(t),[c,l]).div(255).expandDims(0)});a.state.model.executeAsync(s).then(function(e){var a="16px sans-serif";i.font=a,i.textBaseline="top";var o,r=Object(n.a)(e,4),c=r[0],l=r[1],s=r[2],d=r[3],h=c.dataSync(),u=l.dataSync(),f=s.dataSync(),m=d.dataSync()[0];for(g.dispose(e),o=0;o<m;++o){var b=h.slice(4*o,4*(o+1)),w=Object(n.a)(b,4),y=w[0],j=w[1],O=w[2],_=w[3];y*=t.width,O*=t.width,j*=t.height;var E=O-y,S=(_*=t.height)-j,x=v[f[o]],k=u[o].toFixed(2);i.strokeStyle=p.img_bg,i.lineWidth=4,i.strokeRect(y,j,E,S),i.fillStyle=p.img_bg;var D=i.measureText(x+":"+k).width,C=parseInt(a,10);i.fillRect(y,j,D+4,C+4)}for(o=0;o<m;++o){var I=h.slice(4*o,4*(o+1)),B=Object(n.a)(I,3),z=B[0],M=B[1];z*=t.width,M*=t.height;var N=v[f[o]],R=u[o].toFixed(2);i.fillStyle=p.dark_blue,i.fillText(N+":"+R,z,M)}})},a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.loadGraphModel("/web_model/model.json").then(function(t){e.setState({model:t})})}},{key:"render",value:function(){return d.a.createElement("div",{className:"Dropzone-page"},this.state.model?d.a.createElement(m.a,{className:"Dropzone",accept:"image/jpeg, image/png, .jpg, .jpeg, .png",multiple:!1,onDrop:this.onDrop},this.state.preview?d.a.createElement("img",{alt:"upload preview",onLoad:this.onImageChange,className:"Dropzone-img",src:this.state.preview}):"Choose or drop a file.",d.a.createElement("canvas",{id:"canvas",height:"640",width:"640",color:"#d2ff40"})):d.a.createElement("div",{className:"Dropzone"},"Loading model..."))}}]),t}(d.a.Component),y=document.getElementById("title");u.a.render(d.a.createElement(b,null),y);var j=document.getElementById("root");u.a.render(d.a.createElement(w,null),j)}},[[253,2,1]]]);
//# sourceMappingURL=main.d2b99f05.chunk.js.map